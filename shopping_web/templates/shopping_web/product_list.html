<html>
<head>
    <title>Product List</title>
</head>
<body>
    <h1>Product List</h1>

    <form action="" method="get">
        <input type="text" name="q" placeholder="Search..." value="{{ request.GET.q }}">
        <select name="category">
            <option value="">All Categories</option>
            <option value="Footwear" {% if request.GET.category == 'Footwear' %} selected {% endif %}>Footwear</option>
            <option value="Apparel" {% if request.GET.category == 'Apparel' %} selected {% endif %}>Apparel</option>
        </select>
        <select name="gender">
            <option value="">All Genders</option>
            <option value="Girls" {% if request.GET.gender == 'Girls' %} selected {% endif %}>Girls</option>
            <option value="Boys" {% if request.GET.gender == 'Boys' %} selected {% endif %}>Boys</option>
            <option value="Men" {% if request.GET.gender == 'Men' %} selected {% endif %}>Men</option>
            <option value="Women" {% if request.GET.gender == 'Women' %} selected {% endif %}>Women</option>
        </select>
        <button type="submit">Search</button>
    </form>

    {% if product_details %}
    <ul>
        {% for product in product_details %}
        <li>
            <b><a href="/product_details/{{product.productId}}">{{ product.producttitle }}</a></b><br>
            Category: {{ product.category }}<br>
            Sub-Category: {{ product.subCategory }}<br>
            Gender: {{ product.gender }}<br>
            Product Type: {{ product.productType }}<br>
            Colour: {{ product.colour }}<br>
            Usage: {{ product.usage }}<br>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <p>No products found.</p>
    {% endif %}

</body>
</html>
